<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${test.title}">Тест</title>
</head>
<body>
<h2 th:text="'Тест: ' + ${test.title}"></h2>
<form th:action="@{|/student/tests/submit/${test.id}|}" method="post">

    <div th:each="question : ${test.questions}">
        <p th:text="${question.text}"></p>

        <div th:if="${question.type.name() == 'CHOICE'}">
            <div th:if="${question.correctCount == 1}">
                <div th:each="option : ${question.options}">
                    <input type="radio"
                           th:name="'question_' + ${question.id}"
                           th:value="${option.id}">
                    <span th:text="${option.text}"></span>
                </div>
            </div>

            <div th:if="${question.correctCount > 1}">
                <div th:each="option : ${question.options}">
                    <input type="checkbox"
                           th:name="'question_' + ${question.id}"
                           th:value="${option.id}">
                    <span th:text="${option.text}"></span>
                </div>
            </div>
        </div>

        <div th:if="${question.type.name() == 'OPEN'}">
            <textarea th:name="'question_' + ${question.id}" rows="3" cols="50"></textarea>
        </div>

    </div>

    <button type="submit">Отправить тест</button>
</form>

</body>
</html>